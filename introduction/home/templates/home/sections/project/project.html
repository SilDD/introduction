{% load custom_tags %}
{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}

<div class="project-item pt-5">

    {% if project.value.images %}

        {% with project_name=project|slugify %}
            <div id="carouselExample_{{ project_name }}" class="carousel slide">


                <div class="carousel-inner">
                    {% for image in project.value.images %}
                        <div class="img-container carousel-item px-0 {% if forloop.first %} active {% endif %}">
                            {% image image.value fill-3840x2160 as img %}
                            <img src="{{ img.url }}" alt="{{ img.alt }}" class="main-img w-100 h-auto object-fit-cover"/>
                        </div>
                    {% endfor %}
                </div>

               <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample_{{ project_name }}" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExample_{{ project_name }}" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>

        </div>
        {% endwith %}

    {% endif %}

    <div class="project-body">
        <div class="project-title">
            <h3 class="h1 fw-bold text-highlight pt-5 pb-3">{{ project.value.title }}</h3>
        </div>
        <div class="project-description">
            <p class="fs-5 fw-light text-tertiary">{{ project.value.description| allow_safe_tags | linebreaksbr }}</p>
        </div>
        <div class="tech-stack pt-lg-3 pb-md-4 pb-2">
                <div class="d-flex gap-lg-3 flex-column flex-md-row justify-content-md-between align-items-start">
                    <ul class="nav nav-underline d-block">
                        {% for link in project.value.links %}
                            <li class="nav-item  mb-3">
                                <a class="py-1 nav-link align-items-center  text-decoration-none gap-3 d-flex align-content-center" aria-label="{{ project|slugify }}" target="_blank" href="{{ link.value.link_url }}">


                                    <svg width="35px" height="35px" viewBox="0 0 48 48"
                                         xmlns="http://www.w3.org/2000/svg" class="">
                                        <title>github</title>
                                        <g id="Layer_2" data-name="Layer 2">
                                            <g id="invisible_box" data-name="invisible box">
                                                <rect width="48" height="48" fill="none"/>
                                                <rect width="48" height="48" fill="none"/>
                                            </g>
                                            <g id="icons_Q2" data-name="icons Q2">
                                                <path fill="#e7e6e6" d="M24,1.9a21.6,21.6,0,0,0-6.8,42.2c1,.2,1.8-.9,1.8-1.8V39.4c-6,1.3-7.9-2.9-7.9-2.9a6.5,6.5,0,0,0-2.2-3.2C6.9,31.9,9,32,9,32a4.3,4.3,0,0,1,3.3,2c1.7,2.9,5.5,2.6,6.7,2.1a5.4,5.4,0,0,1,.5-2.9C12.7,32,9,28,9,22.6A10.7,10.7,0,0,1,11.9,15a6.2,6.2,0,0,1,.3-6.4,8.9,8.9,0,0,1,6.4,2.9,15.1,15.1,0,0,1,5.4-.8,17.1,17.1,0,0,1,5.4.7,9,9,0,0,1,6.4-2.8,6.5,6.5,0,0,1,.4,6.4A10.7,10.7,0,0,1,39,22.6C39,28,35.3,32,28.5,33.2a5.4,5.4,0,0,1,.5,2.9v6.2a1.8,1.8,0,0,0,1.9,1.8A21.7,21.7,0,0,0,24,1.9Z"/>
                                            </g>
                                        </g>
                                    </svg>
                                    <span class="fw-light mb-0 fs-5 text-tertiary text-nowrap ">{{ link.value.link_title }}</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                    <ul class="mt-2 mt-md-0 d-flex gap-3 skill-set align-items-center justify-content-md-end w-100 mb-0 pt-2 ">
                        {% for skill in project.value.skillset %}

                            <li class="">
                                {% if skill.value.image %}

                                    <div class="">
                                        {% image skill.value.image min-30x30 as img %}
                                        <img src="{{ img.url }}" alt="{{ skill.title }}" class="skill-img">
                                    </div>

                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                </div>
        </div>
    </div>

</div>